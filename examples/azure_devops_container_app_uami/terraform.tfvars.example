# ========================================
# Azure DevOps Container Apps with UAMI - Complete Automation
# Configuration Template
# ========================================
# Copy this file to 'terraform.tfvars' and customize the values below

# ========================================
# Required Configuration
# ========================================

# Your Azure DevOps organization URL
azure_devops_organization_url = "https://dev.azure.com/your-organization-name"

# ========================================
# Optional Configuration
# ========================================

# Environment name for tagging and naming
# environment = "production"

# Networking configuration
# For local development, keep private networking disabled to allow public ACR access
# For production, set to true for enhanced security (requires proper network setup)
use_private_networking = false

# Override the automatically selected Azure region
# location_override = "eastus2"

# Virtual network address space
# virtual_network_address_space = "10.0.0.0/16"

# Compute types to deploy
# compute_types = ["azure_container_app"]
# # Available options:
# # - "azure_container_app"      # Recommended: Serverless, auto-scaling
# # - "azure_container_instance"  # Alternative: Traditional containers

# ========================================
# Advanced Configuration
# ========================================

# Override default names
# agent_pool_name_override = "MyCustomAgentPool"
# project_name_override = "MyCustomProject"
# uami_name_override = "my-custom-uami"

# Additional resource tags
# additional_tags = {
#   Department = "DevOps"
#   CostCenter = "Engineering"
#   Owner      = "platform-team@company.com"
#   Environment = "Production"
# }

# Container App scaling configuration
# container_app_scaling_rules = {
#   min_replicas = 0   # Scale to zero when no jobs (cost-effective)
#   max_replicas = 20  # Maximum concurrent agents (adjust based on workload)
# }

# Additional environment variables for container apps
# container_app_environment_variables = {
#   "custom_setting" = {
#     name  = "CUSTOM_SETTING"
#     value = "custom-value"
#   }
#   "debug_mode" = {
#     name  = "DEBUG_MODE"
#     value = "false"
#   }
# }

# Feature toggles
# enable_container_registry = true   # Set to false if using external registry
# enable_log_analytics = true        # Set to false if using external workspace

# ========================================
# Example Configurations by Use Case
# ========================================

# Development Environment
# environment = "development"
# container_app_scaling_rules = {
#   min_replicas = 0
#   max_replicas = 5
# }
# additional_tags = {
#   Environment = "Development"
#   AutoShutdown = "true"
# }

# Production Environment
# environment = "production"
# container_app_scaling_rules = {
#   min_replicas = 1    # Always have one agent ready
#   max_replicas = 50   # High capacity for production workloads
# }
# additional_tags = {
#   Environment = "Production"
#   BusinessCritical = "true"
#   BackupRequired = "true"
# }

# High-Performance Environment
# compute_types = ["azure_container_app", "azure_container_instance"]
# container_app_scaling_rules = {
#   min_replicas = 2
#   max_replicas = 100
# }
# virtual_network_address_space = "10.10.0.0/16"  # Larger address space

# ========================================
# Security Notes
# ========================================
# 1. This configuration uses UAMI (User Assigned Managed Identity) for authentication
# 2. No secrets or passwords are required in this file
# 3. The UAMI will be created with minimal required permissions
# 4. All resources are deployed in a dedicated resource group
# 5. Network isolation is provided through virtual networks
#
# Prerequisites:
# - Azure subscription with appropriate permissions
# - Azure DevOps organization with admin rights
# - UAMI added to "Project Collection Service Accounts" group in Azure DevOps
# - Terraform >= 1.9 installed
# - Azure CLI installed and authenticated
